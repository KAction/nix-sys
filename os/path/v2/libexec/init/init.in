#!@busybox@/bin/sh
export PATH=@path@
err()  { printf "%s %s\n" $'[\e[31m*\e[m]' "$*" $'\e[m'; }
warn() { printf "%s %s\n" $'[\e[33m*\e[m]' "$*" $'\e[m'; }
info() { printf "%s %s\n" $'[\e[32m*\e[m]' "$*" $'\e[m'; }

mount -t proc none /proc
if ! mount -o remount,rw / ; then
       err "Failed to remount root partition read-write. Recovery shell."
       exec sh
fi

# devpts is required for virtual pty's to work. They are used by sshd(8).
mkdir -p /dev/pts
mount -t devpts none /dev/pts

ip link set up dev lo
exec runsvdir -P /service .....................................................
